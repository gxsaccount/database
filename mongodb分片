在数据达到内存大小之前先进行适当的分片，原因是需要将负载分到多台机器上，以便能够获得想要的吞吐量。
1.分片的工作原理
  1)分片组件：多个分片，mongos路由器，配置服务器
      分片：MongoDB分片集群将数据分布在一个或多个分片上。每个分片部署成一个MongoDB副本集，该副本集保存了集群整体数据的一部分。
  因为每个分片都是一个副本集，所以他们拥有自己的复制机制，能够自动进行故障转移。
      mongos路由器：连接整个集群的接口，
      配置服务器：持久化了分片集群的元数据，元数据包括：每个数据库，集合和特定范围数据的位置；一份变更记录，保存了数据在分片之间进行迁移的历史信息。持久化了分片集群的元数据，改数据包括：每个数据库，集合和特定范围数据的位置；一份变更记录，保存了数据在分片之间进行迁移的历史信息。
  2)核心分片操作
      MongoDB的分片是基于范围的。也就是说分片集合里的每个文档都必须落在指定键的某个值范围里。MongoDB使用所谓的分片键（shard key/partition key）让每 
      个文档在这些范围里找到自己的位置。
    在初始化分片集群时，只存在一个块，这个块的范围涵盖了整个分片集合。块大小达到某个阈值是就会对块进行拆分。默认的块的最大块尺寸时64MB或者100000个文       档，先达到哪个标准就以哪个标准为准。
      MongoDB的分片集群是通过在分片中移动块来实现均衡的。我们称之为迁移，这是一个真实的物理操作。
      迁移是由名为均衡器（balancer）的软件进程管理的，它的任务就是确保数据在各个分片中保持均匀变化。通过追踪各分片上块的数量，就能实现这个功能。
